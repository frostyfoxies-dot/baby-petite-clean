{
  "$schema": "https://railway.app/schema.json",
  "name": "baby-petite",
  "services": [
    {
      "name": "web",
      "source": ".",
      "build": {
        "builder": "NIXPACKS_V1",
        "buildCommand": "export NODE_OPTIONS=--max-old-space-size=4096 && npm ci --no-optional --include=dev && npm run build:scripts && npx prisma generate && npm run build",
        "startCommand": "npm run start"
      },
      "environment": {
        "NODE_ENV": "production",
        "NODE_OPTIONS": "--max-old-space-size=4096"
      },
      "domains": [
        {
          "name": "babypetite.up.railway.app",
          "forceSsl": true
        }
      ]
    }
  ],
  "database": {
    "name": "baby-petite-db",
    "version": "16"
  }
}
